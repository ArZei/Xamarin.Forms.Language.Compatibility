<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
	
	<UsingTask TaskName="Xamarin.Forms.Language.Compatibility.CodeGenFixupTask" AssemblyFile="Xamarin.Forms.Language.Compatibility.dll"/>

  <!-- Hook onto the XamlGDependsOn that already exists -->
	<PropertyGroup>
		<XamlGDependsOn>
      $(XamlGDependsOn);
      _CodeGenFixup
    </XamlGDependsOn>
	</PropertyGroup>

	<Target Name="_CodeGenFixup">
    <CodeGenFixupTask
      Source="@(XamlFiles)"
			Language = "$(Language)"
			AssemblyName = "$(AssemblyName)"
      References = "@(ReferencePath)"
			OutputFile = "$(IntermediateOutputPath)%(Filename).xaml.g$(DefaultLanguageSourceExtension)"
    />
	</Target>

</Project>
